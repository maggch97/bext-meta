{"type":"javascript","source":"// ==UserScript==\n// @name         Video Together 一起看视频\n// @namespace    http://vt.panghair.com\n// @version      0.1\n// @description  Watch video together 一起看视频\n// @author       maggch@outlook.com\n// @match        *://*/*\n// @icon         https://cdn.jsdelivr.net/gh/maggch97/VideoTogether/icon/favicon-32x32.png\n// @grant        none\n// ==/UserScript==\n\n(function () {\n    if (window.VideoTogetherLoading) {\n        return;\n    }\n    window.VideoTogetherLoading = true;\n    let wrapper = document.createElement(\"div\");\n    wrapper.innerHTML = `<div id=\"videoTogetherLoading\">\n    <div style=\"width: 100%\">\n        <img style=\"display: inline;\" src=\"https://cdn.jsdelivr.net/gh/maggch97/VideoTogether/icon/favicon-16x16.png\">\n        <a target=\"_blank\" href=\"https://videotogether.github.io/guide/qa.html\" style=\"display: inline;color: black;\">Video Together 加载中...</p>\n    </div>\n</div>\n\n<style>\n    #videoTogetherLoading {\n        touch-action: none;\n        line-height: 16px;\n        height: 80px;\n        font-size: 16px;\n        border: solid;\n        border-width: 2px;\n        border-bottom-color: #424242;\n        border-right-color: #424242;\n        border-left-color: #fff;\n        border-top-color: #fff;\n        background: silver;\n        color: #212529;\n        display: flex;\n        align-items: center;\n        z-index: 2147483646;\n        position: fixed;\n        bottom: 15px;\n        right: 15px;\n        width: 250px;\n        text-align: center;\n    }\n</style>`\n    document.getElementsByTagName('body')[0].appendChild(wrapper);\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = 'https://cdn.jsdelivr.net/gh/maggch97/VideoTogether@latest/release/vt.user.js?timestamp=' + parseInt(Date.now() / 1000 / 3600);\n    document.getElementsByTagName('body')[0].appendChild(script);\n    function filter(e) {\n        let target = e.target;\n\n        if (target.id != \"videoTogetherLoading\") {\n            return;\n        }\n\n        target.moving = true;\n\n        if (e.clientX) {\n            target.oldX = e.clientX;\n            target.oldY = e.clientY;\n        } else {\n            target.oldX = e.touches[0].clientX;\n            target.oldY = e.touches[0].clientY;\n        }\n\n        target.oldLeft = window.getComputedStyle(target).getPropertyValue('left').split('px')[0] * 1;\n        target.oldTop = window.getComputedStyle(target).getPropertyValue('top').split('px')[0] * 1;\n\n        document.onmousemove = dr;\n        document.ontouchmove = dr;\n\n        function dr(event) {\n            if (!target.moving) {\n                return;\n            }\n            if (event.clientX) {\n                target.distX = event.clientX - target.oldX;\n                target.distY = event.clientY - target.oldY;\n            } else {\n                target.distX = event.touches[0].clientX - target.oldX;\n                target.distY = event.touches[0].clientY - target.oldY;\n            }\n\n            target.style.left = Math.min(document.documentElement.clientWidth - target.clientWidth, Math.max(0, target.oldLeft + target.distX)) + \"px\";\n            target.style.top = Math.min(document.documentElement.clientHeight - target.clientHeight, Math.max(0, target.oldTop + target.distY)) + \"px\";\n        }\n\n        function endDrag() {\n            target.moving = false;\n        }\n        target.onmouseup = endDrag;\n        target.ontouchend = endDrag;\n    }\n    document.onmousedown = filter;\n    document.ontouchstart = filter;\n})();","name":"一起看视频","version":"0.3.7","tags":["工具脚本","视频脚本"],"synopsis":"和你的家人朋友一起在线看视频，无论相隔多远","detail":"<p>插件全部开源，欢迎访问我们的主页查看更多安装使用说明 https://videotogether.github.io</p><p><br></p><h2>创建房间</h2><p>房主可以选择观看的视频，控制视频的播放进度</p><p>打开一个视频网站，输入房名以及密码。点击建房</p><p>将房名分享给你的朋友，她/他就可加入到你的房间</p><p><br></p><h2>加入房间</h2><p>输入房间名，点击加入就会自动打开房主正在分享的视频</p><p>不需要密码</p>"}