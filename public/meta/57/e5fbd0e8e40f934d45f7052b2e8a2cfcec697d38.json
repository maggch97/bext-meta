{"type":"javascript","name":"彩云小译","version":"3","synopsis":"使用彩云 API 的翻译","tags":["工具脚本"],"detail":"<p>搬运自 <a href=\"http://via-app.cn/#/pluginDetail/57\" rel=\"noopener noreferrer\">Via 轻插件</a> ，作者 <a href=\"http://via-app.cn/#/user/5\" rel=\"noopener noreferrer\">Nekko</a></p><p>对原脚本进行如下修改 ：</p><ul><li>修复运行时机问题</li></ul><p>以下是原版介绍：</p><p><br></p><p>下滑唤出 点击使用</p><p><br></p><p>这个脚本使用了 Bext 的函数库，</p><p>如需二次发布 ( 分享，搬运 等等 ) ，</p><p>需要在显著位置包含如下 MIT 许可文本:</p><pre class=\"ql-syntax\" spellcheck=\"false\">MIT License\nCopyright (c) 2022 ikkz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n</pre><p><br></p>","source":"import { runOnce, runNeed } from '@bext/util';\nimport config from '@bext/config';\nrunOnce(()=>{\nrunNeed(() => (document.body),() => {\n!function(){if(!document.getElementById(\"gzfy\")){var zfyan=document.createElement(\"span\");zfyan.id=\"gzfy\";zfyan.innerHTML=\"彩\";zfyan.style.cssText=\"display:none;text-align:center !important;font-size:22px;width:32px;height:32px;line-height:28px;text-align:center;float:right;position:fixed;right:15px;top:75%;color:#fff;opacity:0.6;background:#008080;cursor:pointer;position:fixed !important;z-index:9999999999 !important;box-shadow:0px 1px 1px #000;border-radius:50%\";zfyan.addEventListener(\"click\",function(){zfy()});document.body.appendChild(zfyan);}var zfyhdy1,zfyhdy2;document.addEventListener(\"touchstart\",function(e){zfyhdy1=e.changedTouches[0].clientY});document.addEventListener(\"touchmove\",function(e){zfyhdy2=e.changedTouches[0].clientY;document.getElementById(\"gzfy\").style.display=zfyhdy2-zfyhdy1>0?\"block\":\"none\"});function zfy(){var zfyfy=document.getElementById(\"gzfy\");zfyfy.parentNode.removeChild(zfyfy);var cyfy=document.createElement(\"script\");cyfy.type=\"text/javascript\";cyfy.charset=\"UTF-8\";cyfy.src=(\"https:\"==document.location.protocol?\" https://\":\"http://\")+config.trs;document.body.appendChild(cyfy); }}();\n});\n});","configSchema":{"type":"object","properties":{"trs":{"type":"string","title":"脚本地址","description":"trs.js 的地址，不要带协议"}},"required":["trs"]},"defaultConfig":{"trs":"caiyunapp.com/dest/trs.js"}}